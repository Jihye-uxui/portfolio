{"ast":null,"code":"import _classCallCheck from\"/Applications/MAMP/htdocs/jihye-portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/MAMP/htdocs/jihye-portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Applications/MAMP/htdocs/jihye-portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/MAMP/htdocs/jihye-portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import SvgButtonArrow from'../icons/SvgButtonArrow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var WorkItem=/*#__PURE__*/function(_Component){_inherits(WorkItem,_Component);var _super=_createSuper(WorkItem);function WorkItem(){var _this;_classCallCheck(this,WorkItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={imgUrl:'',categoriesInfo:[],isLoaded:false};return _this;}_createClass(WorkItem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var featured_media=this.props.work.featured_media;var getImageUrl=axios.get(\"/wp-json/wp/v2/media/\".concat(featured_media));var getCategoryInfo=axios.get('/wp-json/wp/v2/work_category');Promise.all([getImageUrl,getCategoryInfo]).then(function(res){_this2.setState({imgUrl:res[0].data.media_details.sizes.full.source_url,categoriesInfo:res[1].data,isLoaded:true});});}},{key:\"render\",value:function render(){var _this$props$work=this.props.work,slug=_this$props$work.slug,title=_this$props$work.title,excerpt=_this$props$work.excerpt;var _this$state=this.state,imgUrl=_this$state.imgUrl,isLoaded=_this$state.isLoaded,categoriesInfo=_this$state.categoriesInfo;console.log(categoriesInfo[0]);if(isLoaded){return/*#__PURE__*/_jsxs(\"section\",{className:\"work-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"work-thumbnail\",children:/*#__PURE__*/_jsx(Link,{to:\"/work/\".concat(slug),children:/*#__PURE__*/_jsx(\"img\",{src:imgUrl,alt:title.rendered})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"work-information\",children:[/*#__PURE__*/_jsx(Link,{to:\"/work/\".concat(slug),children:/*#__PURE__*/_jsx(\"h2\",{children:title.rendered})}),/*#__PURE__*/_jsx(\"div\",{className:\"work-summary\",dangerouslySetInnerHTML:{__html:excerpt.rendered}}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsxs(Link,{to:\"/work/\".concat(slug),children:[\"See Details\",/*#__PURE__*/_jsx(SvgButtonArrow,{})]})})]})]});}return null;}}]);return WorkItem;}(Component);export default WorkItem;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/jihye-portfolio/portfolio-frontend/src/components/WorkItem.js"],"names":["React","Component","Link","axios","SvgButtonArrow","WorkItem","state","imgUrl","categoriesInfo","isLoaded","featured_media","props","work","getImageUrl","get","getCategoryInfo","Promise","all","then","res","setState","data","media_details","sizes","full","source_url","slug","title","excerpt","console","log","rendered","__html"],"mappings":"4rBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,C,wFAEA,UAAaC,CAAAA,QAAb,mUACIC,KADJ,CACY,CACJC,MAAM,CAAI,EADN,CAEJC,cAAc,CAAG,EAFb,CAGJC,QAAQ,CAAE,KAHN,CADZ,qEAWI,4BAAoB,iBAChB,GAAQC,CAAAA,cAAR,CAA2B,KAAKC,KAAL,CAAWC,IAAtC,CAAQF,cAAR,CACA,GAAMG,CAAAA,WAAW,CAAGV,KAAK,CAACW,GAAN,gCAAkCJ,cAAlC,EAApB,CACA,GAAMK,CAAAA,eAAe,CAAGZ,KAAK,CAACW,GAAN,CAAU,8BAAV,CAAxB,CAEAE,OAAO,CAACC,GAAR,CAAY,CAACJ,WAAD,CAAcE,eAAd,CAAZ,EAA4CG,IAA5C,CAAiD,SAAAC,GAAG,CAAI,CACpD,MAAI,CAACC,QAAL,CAAc,CACVb,MAAM,CAAIY,GAAG,CAAC,CAAD,CAAH,CAAOE,IAAP,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgCC,IAAhC,CAAqCC,UADrC,CAEVjB,cAAc,CAAEW,GAAG,CAAC,CAAD,CAAH,CAAOE,IAFb,CAGVZ,QAAQ,CAAE,IAHA,CAAd,EAKH,CAND,EAOH,CAvBL,sBAyBI,iBAAS,CACL,qBAAiC,KAAKE,KAAL,CAAWC,IAA5C,CAAQc,IAAR,kBAAQA,IAAR,CAAcC,KAAd,kBAAcA,KAAd,CAAqBC,OAArB,kBAAqBA,OAArB,CACA,gBAA6C,KAAKtB,KAAlD,CAAQC,MAAR,aAAQA,MAAR,CAAgBE,QAAhB,aAAgBA,QAAhB,CAA0BD,cAA1B,aAA0BA,cAA1B,CACAqB,OAAO,CAACC,GAAR,CAAYtB,cAAc,CAAC,CAAD,CAA1B,EAGA,GAAKC,QAAL,CAAgB,CACZ,mBACI,iBAAS,SAAS,CAAC,WAAnB,wBAEI,YAAK,SAAS,CAAC,gBAAf,uBACI,KAAC,IAAD,EAAM,EAAE,iBAAWiB,IAAX,CAAR,uBACI,YAAK,GAAG,CAAEnB,MAAV,CAAkB,GAAG,CAAEoB,KAAK,CAACI,QAA7B,EADJ,EADJ,EAFJ,cASI,aAAK,SAAS,CAAC,kBAAf,wBACI,KAAC,IAAD,EAAM,EAAE,iBAAWL,IAAX,CAAR,uBACI,oBAAMC,KAAK,CAACI,QAAZ,EADJ,EADJ,cAKI,YAAK,SAAS,CAAC,cAAf,CAA8B,uBAAuB,CAAE,CAAEC,MAAM,CAAEJ,OAAO,CAACG,QAAlB,CAAvD,EALJ,cAQI,YAAK,SAAS,CAAC,QAAf,uBACI,MAAC,IAAD,EAAM,EAAE,iBAAWL,IAAX,CAAR,sCAAsC,KAAC,cAAD,IAAtC,GADJ,EARJ,GATJ,GADJ,CAwBH,CACD,MAAO,KAAP,CACH,CA1DL,sBAA8BzB,SAA9B,EA6DA,cAAeI,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport SvgButtonArrow from '../icons/SvgButtonArrow';\n\nexport class WorkItem extends Component {\n    state = {\n        imgUrl  : '',\n        categoriesInfo : [],\n        isLoaded: false\n    }\n\n    static propTypes = {\n        work: PropTypes.object.isRequired\n    }\n\n    componentDidMount() {\n        const { featured_media } = this.props.work;\n        const getImageUrl = axios.get(`/wp-json/wp/v2/media/${featured_media}`);\n        const getCategoryInfo = axios.get('/wp-json/wp/v2/work_category') \n\n        Promise.all([getImageUrl, getCategoryInfo]).then(res => {\n            this.setState({\n                imgUrl  : res[0].data.media_details.sizes.full.source_url,\n                categoriesInfo: res[1].data,\n                isLoaded: true\n            });\n        });\n    }\n\n    render() {\n        const { slug, title, excerpt } = this.props.work;\n        const { imgUrl, isLoaded, categoriesInfo } = this.state;\n        console.log(categoriesInfo[0]);\n\n\n        if ( isLoaded ) {\n            return (\n                <section className=\"work-list\">\n                    {/* Project Thumbnail */}\n                    <div className=\"work-thumbnail\">\n                        <Link to={`/work/${slug}`}>\n                            <img src={imgUrl} alt={title.rendered} />\n                        </Link>\n                    </div>\n\n                    {/* Project Summary */}\n                    <div className=\"work-information\">\n                        <Link to={`/work/${slug}`}>\n                            <h2>{ title.rendered }</h2>\n                        </Link>\n\n                        <div className=\"work-summary\" dangerouslySetInnerHTML={{ __html: excerpt.rendered }}></div>\n                        \n                        {/* Project Information */}\n                        <div className=\"button\">\n                            <Link to={`/work/${slug}`}>See Details<SvgButtonArrow/></Link>\n                        </div>\n                    </div>\n                </section>\n            );\n        }\n        return null;\n    }\n}\n\nexport default WorkItem\n"]},"metadata":{},"sourceType":"module"}