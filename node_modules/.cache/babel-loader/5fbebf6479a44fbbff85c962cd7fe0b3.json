{"ast":null,"code":"import _classCallCheck from\"/Applications/MAMP/htdocs/portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/MAMP/htdocs/portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Applications/MAMP/htdocs/portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/MAMP/htdocs/portfolio/portfolio-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import SvgButtonArrow from'../icons/SvgButtonArrow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var WorkItem=/*#__PURE__*/function(_Component){_inherits(WorkItem,_Component);var _super=_createSuper(WorkItem);function WorkItem(){var _this;_classCallCheck(this,WorkItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={imgUrl:'',author:'',categoriesInfo:[],isLoaded:false};return _this;}_createClass(WorkItem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _this$props$work=this.props.work,featured_media=_this$props$work.featured_media,author=_this$props$work.author;var getImageUrl=axios.get(\"/wp-json/wp/v2/media/\".concat(featured_media));var getAuthor=axios.get(\"/wp-json/wp/v2/users/\".concat(author));var getCategoryInfo=axios.get('/wp-json/wp/v2/custom_work_category');Promise.all([getImageUrl,getAuthor,getCategoryInfo]).then(function(res){// console.log(res);\n_this2.setState({imgUrl:res[0].data.media_details.sizes.full.source_url,author:res[1].data.name,categoriesInfo:res[2].data,isLoaded:true});});}},{key:\"getCategoryNames\",value:function getCategoryNames(categoriesInfoArray,projectWorkCategory){var categoryNames=projectWorkCategory.map(function(termId){var foundCategory=categoriesInfoArray.find(function(category){return category.id===termId;});return/*#__PURE__*/_jsx(\"span\",{className:\"work-term\",children:foundCategory.name});});return/*#__PURE__*/_jsx(\"div\",{className:\"work-terms\",children:categoryNames});}},{key:\"render\",value:function render(){var _this$props$work2=this.props.work,slug=_this$props$work2.slug,title=_this$props$work2.title,excerpt=_this$props$work2.excerpt,custom_work_category=_this$props$work2.custom_work_category;var _this$state=this.state,imgUrl=_this$state.imgUrl,isLoaded=_this$state.isLoaded,categoriesInfo=_this$state.categoriesInfo;console.log(categoriesInfo[0]);if(isLoaded){return/*#__PURE__*/_jsxs(\"section\",{className:\"work-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"work-thumbnail\",children:/*#__PURE__*/_jsx(Link,{to:\"/work/\".concat(slug),children:/*#__PURE__*/_jsx(\"img\",{src:imgUrl,alt:title.rendered})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"work-information\",children:[/*#__PURE__*/_jsx(Link,{to:\"/work/\".concat(slug),children:/*#__PURE__*/_jsx(\"h2\",{children:title.rendered})}),/*#__PURE__*/_jsx(\"div\",{className:\"work-summary\",dangerouslySetInnerHTML:{__html:excerpt.rendered}}),this.getCategoryNames(categoriesInfo,custom_work_category),/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsxs(Link,{to:\"/work/\".concat(slug),children:[\"See Details\",/*#__PURE__*/_jsx(SvgButtonArrow,{})]})})]})]});}return null;}}]);return WorkItem;}(Component);export default WorkItem;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/portfolio/portfolio-frontend/src/components/WorkItem.js"],"names":["React","Component","Link","axios","SvgButtonArrow","WorkItem","state","imgUrl","author","categoriesInfo","isLoaded","props","work","featured_media","getImageUrl","get","getAuthor","getCategoryInfo","Promise","all","then","res","setState","data","media_details","sizes","full","source_url","name","categoriesInfoArray","projectWorkCategory","categoryNames","map","termId","foundCategory","find","category","id","slug","title","excerpt","custom_work_category","console","log","rendered","__html","getCategoryNames"],"mappings":"oqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,C,wFAEA,UAAaC,CAAAA,QAAb,mUACIC,KADJ,CACY,CACJC,MAAM,CAAI,EADN,CAEJC,MAAM,CAAI,EAFN,CAGJC,cAAc,CAAG,EAHb,CAIJC,QAAQ,CAAE,KAJN,CADZ,qEAYI,4BAAoB,iBAChB,qBAAmC,KAAKC,KAAL,CAAWC,IAA9C,CAAQC,cAAR,kBAAQA,cAAR,CAAwBL,MAAxB,kBAAwBA,MAAxB,CACA,GAAMM,CAAAA,WAAW,CAAGX,KAAK,CAACY,GAAN,gCAAkCF,cAAlC,EAApB,CACA,GAAMG,CAAAA,SAAS,CAAGb,KAAK,CAACY,GAAN,gCAAkCP,MAAlC,EAAlB,CACA,GAAMS,CAAAA,eAAe,CAAGd,KAAK,CAACY,GAAN,CAAU,qCAAV,CAAxB,CAEAG,OAAO,CAACC,GAAR,CAAY,CAACL,WAAD,CAAcE,SAAd,CAAyBC,eAAzB,CAAZ,EAAuDG,IAAvD,CAA4D,SAAAC,GAAG,CAAI,CAC/D;AACA,MAAI,CAACC,QAAL,CAAc,CACVf,MAAM,CAAIc,GAAG,CAAC,CAAD,CAAH,CAAOE,IAAP,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgCC,IAAhC,CAAqCC,UADrC,CAEVnB,MAAM,CAAIa,GAAG,CAAC,CAAD,CAAH,CAAOE,IAAP,CAAYK,IAFZ,CAGVnB,cAAc,CAAEY,GAAG,CAAC,CAAD,CAAH,CAAOE,IAHb,CAIVb,QAAQ,CAAE,IAJA,CAAd,EAMH,CARD,EASH,CA3BL,gCA6BI,0BAAiBmB,mBAAjB,CAAsCC,mBAAtC,CAA0D,CACtD,GAAMC,CAAAA,aAAa,CAAGD,mBAAmB,CAACE,GAApB,CAAwB,SAACC,MAAD,CAAY,CAEtD,GAAMC,CAAAA,aAAa,CAAGL,mBAAmB,CAACM,IAApB,CAAyB,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,EAAT,GAAgBJ,MAApB,EAAjC,CAAtB,CAEA,mBAAO,aAAM,SAAS,CAAC,WAAhB,UAA6BC,aAAa,CAACN,IAA3C,EAAP,CACH,CALqB,CAAtB,CAMA,mBACI,YAAK,SAAS,CAAC,YAAf,UAA6BG,aAA7B,EADJ,CAGH,CAvCL,sBAyCI,iBAAS,CACL,sBAAuD,KAAKpB,KAAL,CAAWC,IAAlE,CAAQ0B,IAAR,mBAAQA,IAAR,CAAcC,KAAd,mBAAcA,KAAd,CAAqBC,OAArB,mBAAqBA,OAArB,CAA8BC,oBAA9B,mBAA8BA,oBAA9B,CACA,gBAA6C,KAAKnC,KAAlD,CAAQC,MAAR,aAAQA,MAAR,CAAgBG,QAAhB,aAAgBA,QAAhB,CAA0BD,cAA1B,aAA0BA,cAA1B,CACAiC,OAAO,CAACC,GAAR,CAAYlC,cAAc,CAAC,CAAD,CAA1B,EAGA,GAAKC,QAAL,CAAgB,CACZ,mBACI,iBAAS,SAAS,CAAC,WAAnB,wBAEI,YAAK,SAAS,CAAC,gBAAf,uBACI,KAAC,IAAD,EAAM,EAAE,iBAAW4B,IAAX,CAAR,uBACI,YAAK,GAAG,CAAE/B,MAAV,CAAkB,GAAG,CAAEgC,KAAK,CAACK,QAA7B,EADJ,EADJ,EAFJ,cASI,aAAK,SAAS,CAAC,kBAAf,wBACI,KAAC,IAAD,EAAM,EAAE,iBAAWN,IAAX,CAAR,uBACI,oBAAMC,KAAK,CAACK,QAAZ,EADJ,EADJ,cAKI,YAAK,SAAS,CAAC,cAAf,CAA8B,uBAAuB,CAAE,CAAEC,MAAM,CAAEL,OAAO,CAACI,QAAlB,CAAvD,EALJ,CAQK,KAAKE,gBAAL,CAAsBrC,cAAtB,CAAsCgC,oBAAtC,CARL,cASI,YAAK,SAAS,CAAC,QAAf,uBACI,MAAC,IAAD,EAAM,EAAE,iBAAWH,IAAX,CAAR,sCAAsC,KAAC,cAAD,IAAtC,GADJ,EATJ,GATJ,GADJ,CAyBH,CACD,MAAO,KAAP,CACH,CA3EL,sBAA8BrC,SAA9B,EA8EA,cAAeI,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport SvgButtonArrow from '../icons/SvgButtonArrow';\n\nexport class WorkItem extends Component {\n    state = {\n        imgUrl  : '',\n        author  : '',\n        categoriesInfo : [],\n        isLoaded: false\n    }\n\n    static propTypes = {\n        work: PropTypes.object.isRequired\n    }\n\n    componentDidMount() {\n        const { featured_media, author } = this.props.work;\n        const getImageUrl = axios.get(`/wp-json/wp/v2/media/${featured_media}`);\n        const getAuthor = axios.get(`/wp-json/wp/v2/users/${author}`);\n        const getCategoryInfo = axios.get('/wp-json/wp/v2/custom_work_category') \n\n        Promise.all([getImageUrl, getAuthor, getCategoryInfo]).then(res => {\n            // console.log(res);\n            this.setState({\n                imgUrl  : res[0].data.media_details.sizes.full.source_url,\n                author  : res[1].data.name,\n                categoriesInfo: res[2].data,\n                isLoaded: true\n            });\n        });\n    }\n\n    getCategoryNames(categoriesInfoArray, projectWorkCategory){\n        const categoryNames = projectWorkCategory.map((termId) => {\n             \n            const foundCategory = categoriesInfoArray.find(category => category.id === termId);\n            \n            return <span className=\"work-term\">{foundCategory.name}</span>\n        });\n        return (\n            <div className=\"work-terms\">{categoryNames}</div>\n        )\n    }\n\n    render() {\n        const { slug, title, excerpt, custom_work_category } = this.props.work;\n        const { imgUrl, isLoaded, categoriesInfo } = this.state;\n        console.log(categoriesInfo[0]);\n\n\n        if ( isLoaded ) {\n            return (\n                <section className=\"work-list\">\n                    {/* Project Thumbnail */}\n                    <div className=\"work-thumbnail\">\n                        <Link to={`/work/${slug}`}>\n                            <img src={imgUrl} alt={title.rendered} />\n                        </Link>\n                    </div>\n\n                    {/* Project Summary */}\n                    <div className=\"work-information\">\n                        <Link to={`/work/${slug}`}>\n                            <h2>{ title.rendered }</h2>\n                        </Link>\n\n                        <div className=\"work-summary\" dangerouslySetInnerHTML={{ __html: excerpt.rendered }}></div>\n                        \n                        {/* Project Information */}\n                        {this.getCategoryNames(categoriesInfo, custom_work_category)}\n                        <div className=\"button\">\n                            <Link to={`/work/${slug}`}>See Details<SvgButtonArrow/></Link>\n                        </div>\n                    </div>\n                </section>\n            );\n        }\n        return null;\n    }\n}\n\nexport default WorkItem\n"]},"metadata":{},"sourceType":"module"}